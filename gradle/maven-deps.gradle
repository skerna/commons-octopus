ext.generatePomDeps =  { Configuration configuration, Node node ->
    def nameConfig = configuration.name
    if(nameConfig.contains("Api")){
        configuration.allDependencies.each {
            def dependencyNode = node.appendNode('dependency')
            dependencyNode.appendNode('groupId', it.group)
            dependencyNode.appendNode('artifactId', it.name)
            dependencyNode.appendNode('version', it.version)
        }
    }

    if(nameConfig.contains("CompileOnly")){
        configuration.allDependencies.each {
            def dependencyNode = node.appendNode('dependency')
            dependencyNode.appendNode('groupId', it.group)
            dependencyNode.appendNode('artifactId', it.name)
            dependencyNode.appendNode('version', it.version)
            dependencyNode.appendNode('scope', 'provided')
        }
    }
}

    configurations.each { println it.name }
